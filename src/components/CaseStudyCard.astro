---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

interface Props {
  className?: string;
  title?: string;
  description?: string;
  alt?: string;
  src: ImageMetadata;
  gradient?: "primary" | "secondary";
  aligment?: "right" | "left";
  href?: string;
}

const {
  className,
  title,
  description,
  alt,
  src,
  gradient = "primary",
  aligment = "right",
  href = "#none",
} = Astro.props;

const gradientStyles = {
  primary: "from-cyan-100 to-yellow-50",
  secondary: "from-yellow-50 to-cyan-100 ",
};

const aligmentStyles = {
  right: "self-end text-right",
  left: "self-start",
};
---

<a
  class:list={["group relative block rounded-4xl shadow-2xl", className]}
  href={href !== "#none" ? href : undefined}
>
  <div
    class:list={[
      "absolute inset-5 z-10 flex flex-col items-stretch md:inset-15",
    ]}
  >
    <div class:list={["w-76 self-end", aligmentStyles[aligment]]}>
      <span
        class="inline-block text-sm tracking-widest text-slate-400 uppercase"
        >Vero</span
      >
      <h3
        class="font-bricolage mt-1 text-xl font-semibold -tracking-[0.025em] text-cyan-950 md:mt-2 md:text-4xl"
      >
        {title}
      </h3>
      <p class="mt-1 text-base text-cyan-950 md:mt-2 md:text-xl">
        {description}
      </p>
    </div>

    {
      href !== "#none" && (
        <div
          class:list={[
            "group/link z-10 mt-auto flex items-center gap-2 rounded-full py-2 ring-2 ring-transparent transition-all duration-300 ease-in-out group-hover:px-5.5 group-hover:ring-cyan-950/25 hover:bg-cyan-950 hover:ring-cyan-950",
            aligmentStyles[aligment],
          ]}
        >
          <span class="inline-block font-semibold text-cyan-950 transition-transform duration-300 ease-in-out group-hover/link:text-cyan-50 md:text-xl">
            Read case study
          </span>
          <span class="text-xl font-light text-slate-400">â†’</span>
        </div>
      )
    }
  </div>

  <div
    class:list={[
      "transform-gpu overflow-clip rounded-3xl bg-linear-120",
      gradientStyles[gradient],
    ]}
  >
    <Image
      class="rounded-[inherit] drop-shadow-xl transition-all duration-300 ease-in-out group-hover:scale-[1.025]"
      src={src}
      alt={alt || "Case study image"}
    />
  </div>
</a>
