---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

interface Props {
  className?: string;
  title?: string;
  description?: string;
  alt?: string;
  src?: ImageMetadata;
  variant?: "gradient" | "simple";
}

const {
  className,
  title,
  description,
  alt,
  src,
  variant = "simple",
} = Astro.props;

const variantStyles = {
  gradient:
    "bg-radial-[170%_115%_at_50%_49%] backdrop-blur-lg from-white/5 from-40% to-teal-400/30",
  simple: "bg-white/5",
};
---

<div
  class={`rounded-4xl shadow-2xl p-2 inset-ring inset-ring-white/5 ${variantStyles[variant]} ${className || ""}`}
>
  {
    src && (
      <div class="overflow-clip rounded-3xl bg-teal-50">
        <Image
          class="rounded-xl drop-shadow-lg"
          src={src}
          alt={alt || "Work card image"}
        />
      </div>
    )
  }

  <div class="px-6 pt-4.5 pb-2.5">
    {title && <h3 class="text-lg font-semibold md:text-xl">{title}</h3>}
    {
      description && (
        <p class="text-base text-slate-400 md:text-lg">{description}</p>
      )
    }
  </div>

  <slot />
</div>
